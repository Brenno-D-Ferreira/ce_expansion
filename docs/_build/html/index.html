
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to ce_expansion’s documentation! &#8212; ce_expansion 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-ce-expansion-s-documentation">
<h1>Welcome to ce_expansion’s documentation!<a class="headerlink" href="#welcome-to-ce-expansion-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
<div class="section" id="ce-expansion-atomgraph">
<h1>ce_expansion.atomgraph<a class="headerlink" href="#ce-expansion-atomgraph" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-ce_expansion.atomgraph.atomgraph"></span><dl class="class">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph">
<em class="property">class </em><code class="descclassname">ce_expansion.atomgraph.atomgraph.</code><code class="descname">AtomGraph</code><span class="sig-paren">(</span><em>bond_list</em>, <em>kind0</em>, <em>kind1</em>, <em>coeffs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>A graph representing the ASE Atoms object to be investigated.
This graph is represented as an Nx2 list of edges in the nanoparticle.
Note that the function signature is slightly different than AtomGraph.</p>
<p>Args:
bond_list (np.array): An Nx2 numpy array containing a list of bonds in the</p>
<blockquote>
<div>nanoparticle. Zero indexed. Assumed to come from
adjacency.buildBondList.</div></blockquote>
<p>kind0 (str): A string indicating the atomic symbol a “0” represents.
kind1 (str): A string indicating the atomic symbol a “1” represents.</p>
<p>Attributes:
symbols (tuple): A tuple containing the compositional information of the</p>
<blockquote>
<div>NP. Index 0 is the element a “0” represents. Index 1 is
the element a “1” represents. This attribute is updated
whenever the NP’s composition is updated via the
“set_composition” method.</div></blockquote>
<dl class="docutils">
<dt>coeffs (dict): A nested dictionary of bond coefficients, of the format</dt>
<dd>dict[source][destination][CN]. Source and destination are
strings indicating the element of interest. Defaults to the
global DFTAULT_BOND_COEFFS. Coefficients can be calculated
using /tools/gen_coeffs.py.</dd>
</dl>
<p>num_atoms (int): The number of atoms in the NP.
cns (np.array): An array containing the coordination number of each atom.
unique_cns (np.array): array of unique coordination numbers of NP
min_cn (int): minimum coordination number of NP
max_cn (int): maximum coordination number of NP
mono_ce0 (float): CE value for monometallic NP of “kind0”
mono_ce1 (float): CE value for monometallic NP of “kind1”</p>
<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.calcMixing">
<code class="descname">calcMixing</code><span class="sig-paren">(</span><em>ordering</em>, <em>holder_array=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.calcMixing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.calcMixing" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the mixing parameter. From Batista et al. Adsorption of CO, NO, and H2 on the
PdnAu55-n nanoclusters: A Density Functional Theory Investigation within the van der
Waals D3 Corrections. J Phys Chem C 2019, 123 (12) 7431-7439.
Link here: <a class="reference external" href="https://pubs.acs.org/doi/10.1021/acs.jpcc.8b12219">https://pubs.acs.org/doi/10.1021/acs.jpcc.8b12219</a></p>
<p>For bimetallics, this mixing parameter is the percent of homo-atomic
bonds scaled between -1 and 1.</p>
<p>Args:
ordering(np.array): Chemcial ordering of the NP
holder_array(np.array): A length-3 array to hold the result of countMixing.</p>
<blockquote>
<div>Optional. If not supplied, will create the array on the spot.
May be slower to do this. This array is OVER-WRITTEN by the
C-library, and contains long ints.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The mixing parameter. +1 indicates complete segregation (e.g. only homo-atomic bonds).
-1 indicates complete mixing (e.g. zero bonds between the same element).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.calc_cn_dist">
<code class="descname">calc_cn_dist</code><span class="sig-paren">(</span><em>ordering</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.calc_cn_dist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.calc_cn_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets CN distribution of each atom type
- can be used to create bar plots of CN distribution</p>
<p>Args:
- ordering (np.array): chemical ordering of the NP</p>
<p>Returns:
- (dict): {cn_options (np.array): possible CN options,</p>
<blockquote>
<div>m1_counts (np.array): metal1 CN counts,
m2_counts (np.array): metal2 CN counts,
tot_counts (np.array): total CN counts}</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.countMixing">
<code class="descname">countMixing</code><span class="sig-paren">(</span><em>ordering</em>, <em>holder_array=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.countMixing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.countMixing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the number of homo/hetero-atomic bonds in the system.</p>
<p>Args:
- ordering (np.array): Chemcial ordering of the NP
- holder_array (np.array): A length-3 array to hold the result.</p>
<blockquote>
<div>Optional. If not supplied, will create
the array on the spot. May be slower to do
this. This array is OVER-WRITTEN by the
C-library, and contains long ints.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">[A-A bonds, B-B bonds, A-B bonds]</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Bond counts(np.array)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.getEE">
<code class="descname">getEE</code><span class="sig-paren">(</span><em>ordering</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.getEE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.getEE" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the excess energy in eV / atom of a given ordering</p>
<p>Args:
ordering (np.array): 1D chemical ordering array</p>
<p>Returns:
(float): Excess Energy (EE) in eV / atom</p>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.getTotalCE">
<code class="descname">getTotalCE</code><span class="sig-paren">(</span><em>ordering</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.getTotalCE"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.getTotalCE" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the cohesive energy of the NP using the BC model,
as implemented in interface.py and lib.c</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ordering</strong> (<em>np.array</em>) – Chemical ordering of the NP.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.get_adjacency_list">
<code class="descname">get_adjacency_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.get_adjacency_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.get_adjacency_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates an adjacency list given the bonds list.</p>
<p>Returns:
The NxM adjacency list represented by the bonds list</p>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.metropolis">
<code class="descname">metropolis</code><span class="sig-paren">(</span><em>ordering</em>, <em>num_steps=1000</em>, <em>swap_any=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.metropolis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.metropolis" title="Permalink to this definition">¶</a></dt>
<dd><p>Metropolis-Hastings-based exploration of similar NPs</p>
<p>Args:
atomgraph (atomgraph.AtomGraph) : An atomgraph representing the NP
ordering (np.array) : 1D chemical ordering array
num_steps (int) : How many steps to simulate for
swap_any (bool) : Determines whether to restrict the algorithm’s swaps</p>
<blockquote>
<div>to only atoms directly bound to  the atom of interest.
If set to ‘True’, the algorithm chooses any two atoms
in the NP regardless of where they are. Selecting
‘False’ yields a slightly-more-physical case of
atomic diffusion.</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.atomgraph.atomgraph.AtomGraph.set_composition">
<code class="descname">set_composition</code><span class="sig-paren">(</span><em>kind0</em>, <em>kind1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/atomgraph.html#AtomGraph.set_composition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.atomgraph.AtomGraph.set_composition" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the bond energies to be passed to the C library. Energies come
from the coeffs attribute.</p>
<p>Args:
kind0 (str): The element a “0” represents.
kind1 (str): The element a “1” represents.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-ce_expansion.atomgraph.adjacency"></span><dl class="function">
<dt id="ce_expansion.atomgraph.adjacency.buildAdjacencyList">
<code class="descclassname">ce_expansion.atomgraph.adjacency.</code><code class="descname">buildAdjacencyList</code><span class="sig-paren">(</span><em>atoms_object</em>, <em>atom_name=None</em>, <em>radius_dictionary={('Cu'</em>, <em>'Cu'): 2.8}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/adjacency.html#buildAdjacencyList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.adjacency.buildAdjacencyList" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjacency list representation for an ase atoms object.</p>
<p>atoms_object (ase.Atoms): An ASE atoms object representing the system of interest
radius_dictionary (dict): A dictionary with the atom-atom radii at-which a bond is considered a</p>
<blockquote>
<div>bond. If no dict is supplied, Cu-Cu bonds of max-len 2.8 are assumed.</div></blockquote>
<p>Returns:
np.ndarray : A numpy array representing the adjacency list of the ase object</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.atomgraph.adjacency.buildAdjacencyMatrix">
<code class="descclassname">ce_expansion.atomgraph.adjacency.</code><code class="descname">buildAdjacencyMatrix</code><span class="sig-paren">(</span><em>atoms_object</em>, <em>radius_dictionary={('Cu'</em>, <em>'Cu'): 2.8}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/adjacency.html#buildAdjacencyMatrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.adjacency.buildAdjacencyMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Sparse matrix representation from an ase atoms object.</p>
<p>Args:
atoms_object (ase.Atoms): An ASE atoms object representing the system of interest
radius_dictionary (dict): A dictionary with the atom-atom radii at-which a bond is considered a</p>
<blockquote>
<div>bond. If no dict is supplied, Cu-Cu bonds of max-len 2.8 are assumed.</div></blockquote>
<p>Returns:
np.ndarray : A numpy array representing the sparse matrix of the ase object</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.atomgraph.adjacency.buildBondsList">
<code class="descclassname">ce_expansion.atomgraph.adjacency.</code><code class="descname">buildBondsList</code><span class="sig-paren">(</span><em>atoms_object</em>, <em>radius_dictionary={('Cu'</em>, <em>'Cu'): 2.8}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/adjacency.html#buildBondsList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.adjacency.buildBondsList" title="Permalink to this definition">¶</a></dt>
<dd><p>2D bonds list from an ASE atoms object.</p>
<p>Args:
atoms_object (ase.Atoms): An ASE atoms object representing the system of interest
radius_dictionary (dict): A dictionary with the atom-atom radii at-which a bond is considered a</p>
<blockquote>
<div>bond. If no dict is supplied, Cu-Cu bonds of a max-len 2.8 are assumes.</div></blockquote>
<p>Returns:
np.ndarray : A numpy array representing the bonds list.</p>
</dd></dl>

<span class="target" id="module-ce_expansion.atomgraph.interface"></span><dl class="function">
<dt id="ce_expansion.atomgraph.interface.calculate_ce">
<code class="descclassname">ce_expansion.atomgraph.interface.</code><code class="descname">calculate_ce</code><span class="sig-paren">(</span><em>bond_energies</em>, <em>num_atoms</em>, <em>cns</em>, <em>num_bonds</em>, <em>adjacency_table</em>, <em>id_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/interface.html#calculate_ce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.interface.calculate_ce" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of the calculate_CE function which creates the pointers on its own. This is slower than the pointerized
version.</p>
<p>Args:
bond_energies (np.array): A 2x2x12 table of bond energies
num_atoms (int): Number of atoms in the system
cns (np.array): A 1D array of the coordination numbers in the sytem, of length num_atoms
num_bonds (int): Number of bonds in the system
adjacency_table (np.array): An Nx2 table of bonds in the system, of length num_bonds
id_string (np.array): An array representing which elements are in the nanoparticle, of length num_atoms</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.atomgraph.interface.calculate_mixing">
<code class="descclassname">ce_expansion.atomgraph.interface.</code><code class="descname">calculate_mixing</code><span class="sig-paren">(</span><em>num_atoms</em>, <em>num_bonds</em>, <em>adjacency_table</em>, <em>id_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/interface.html#calculate_mixing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.interface.calculate_mixing" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of the calculate_mixing function which creates the pointers on its own.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_atoms</strong> (<em>int</em>) – Number of atoms in the system</li>
<li><strong>num_bonds</strong> (<em>int</em>) – Number of bonds in the system</li>
<li><strong>adjacency_table</strong> (<em>np.array</em>) – An Nx2 tableof bonds in the system, of length num_bonds</li>
<li><strong>id_string</strong> (<em>np.array</em>) – An array representing which elements are in the NP, of length num_atoms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><dl class="docutils">
<dt>A length-3 holding return values.</dt>
<dd><p class="first last">-First value is the number of A-A bonds.
-Second value is the number of B-B bonds.
-Third value is the number of A-B bonds.</p>
</dd>
</dl>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.atomgraph.interface.pointerized_calculate_ce">
<code class="descclassname">ce_expansion.atomgraph.interface.</code><code class="descname">pointerized_calculate_ce</code><span class="sig-paren">(</span><em>bond_energies</em>, <em>num_atoms</em>, <em>cns</em>, <em>num_bonds</em>, <em>adjacency_table</em>, <em>id_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/interface.html#pointerized_calculate_ce"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.interface.pointerized_calculate_ce" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of the calculate_CE function which takes in pre-converted c/pointer objects</p>
<p>Args:
bond_energies (c_double pointer): A 2x2x12 table of bond energies
num_atoms (c_long): Number of atoms in the system
cns (c_long pointer): A 1D array of the coordination numbers in the sytem, of length num_atoms
num_bonds (c_long): Number of bonds in the system
adjacency_table (c_long pointer): An Nx2 table of bonds in the system, of length num_bonds
id_string (c_long pointer): An array representing which elements are in the nanoparticle, of length num_atoms</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.atomgraph.interface.pointerized_calculate_mixing">
<code class="descclassname">ce_expansion.atomgraph.interface.</code><code class="descname">pointerized_calculate_mixing</code><span class="sig-paren">(</span><em>num_atoms</em>, <em>num_bonds</em>, <em>adjacency_table</em>, <em>id_string</em>, <em>return_array</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/atomgraph/interface.html#pointerized_calculate_mixing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.atomgraph.interface.pointerized_calculate_mixing" title="Permalink to this definition">¶</a></dt>
<dd><p>Version of the calculate_mixing function that takes in all the pointers pre-done</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_atoms</strong> (<em>int</em>) – Number of atoms in the system</li>
<li><strong>num_bonds</strong> (<em>int</em>) – Number of bonds in the system</li>
<li><strong>adjacency_table</strong> (<em>np.array</em>) – An Nx2 tableof bonds in the system, of length num_bonds</li>
<li><strong>id_string</strong> (<em>np.array</em>) – An array representing which elements are in the NP, of length num_atoms</li>
<li><strong>return_array</strong> (<em>int</em>) – A length-2 array to hold return values.
-First value is the number of A-A bonds.
-Second value is the number of B-B bonds.
-Third value is the number of A-B bonds.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None. Return_array is changed in place.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ce_expansion.npdb.base">
<span id="ce-expansion-npdb"></span><h1>ce_expansion.npdb<a class="headerlink" href="#module-ce_expansion.npdb.base" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-ce_expansion.npdb.datatables"></span><dl class="class">
<dt id="ce_expansion.npdb.datatables.Atoms">
<em class="property">class </em><code class="descclassname">ce_expansion.npdb.datatables.</code><code class="descname">Atoms</code><span class="sig-paren">(</span><em>index</em>, <em>x</em>, <em>y</em>, <em>z</em>, <em>nanoparticle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#Atoms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.Atoms" title="Permalink to this definition">¶</a></dt>
<dd><p>Atom coordinates that link to a Nanoparticles skeleton
- no atom type needed since these only correspond to a skeleton
- BimetallicResults holds atom type info</p>
<p>Columns:
index (int): atom index to ensure atom types from</p>
<blockquote>
<div>BimetallicResults.ordering can be correctly mapped</div></blockquote>
<p>x, y, z (float): coordinates of atom
nanoparticle (many-to-one): Nanoparticles entry that atom belongs to</p>
<blockquote>
<div><ul class="simple">
<li>atom must belong to one NP</li>
</ul>
</div></blockquote>
<p>Autofilled Columns:
id (int): primary key (unique)
structure_id (int): Foreign key from Nanoparticles to link atom</p>
<blockquote>
<div>to a single NP</div></blockquote>
</dd></dl>

<dl class="class">
<dt id="ce_expansion.npdb.datatables.BimetallicLog">
<em class="property">class </em><code class="descclassname">ce_expansion.npdb.datatables.</code><code class="descname">BimetallicLog</code><span class="sig-paren">(</span><em>start_time</em>, <em>metal1</em>, <em>metal2</em>, <em>shape</em>, <em>ga_generations</em>, <em>shell_range</em>, <em>new_min_structs</em>, <em>tot_structs</em>, <em>batch_run_num=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicLog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicLog" title="Permalink to this definition">¶</a></dt>
<dd><p>Table to log batch GA sims</p>
</dd></dl>

<dl class="class">
<dt id="ce_expansion.npdb.datatables.BimetallicResults">
<em class="property">class </em><code class="descclassname">ce_expansion.npdb.datatables.</code><code class="descname">BimetallicResults</code><span class="sig-paren">(</span><em>metal1</em>, <em>metal2</em>, <em>shape</em>, <em>num_atoms</em>, <em>diameter</em>, <em>n_metal1</em>, <em>n_metal2</em>, <em>CE</em>, <em>EE</em>, <em>ordering</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicResults"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Bimetallic GA Simulation Results Datatable
- contains data for most stable structure found</p>
<blockquote>
<div>(based on CE) at a given shape, size, and metal composition</div></blockquote>
<ul class="simple">
<li>GA varies chemical ordering to find stable NP</li>
</ul>
<p>Columns:
metal1 and metal2 (string(2)): metal element names that are always</p>
<blockquote>
<div>converted to alphabetical order
- e.g. metal1 = Ag, metal2 = Cu</div></blockquote>
<p>shape (string): shape of NP
num_atoms (int): number of atoms in NP
diameter (float): “diameter” of NP measured using (atom.cell.max() / 10)</p>
<blockquote>
<div><ul class="simple">
<li>units = nm</li>
<li>measured in ga.run_ga</li>
<li>NOTE: std measuring, but there might be a better way</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>n_metal1, n_metal2 (int): number of metal(1)(2) in NP</dt>
<dd><ul class="first last simple">
<li>must add up to num_atoms</li>
<li>constrains composition of NP</li>
</ul>
</dd>
</dl>
<p>CE (float): cohesive energy of NP (in ev / atom)
EE (float): excess energy of NP (in ev / atom)
ordering (string): string of 1’s and 0’s mapping atom type</p>
<blockquote>
<div><p>to Atoms skeleton
- 1: metal2
- 0: metal1
- atoms of each NP are ordered with an index to</p>
<blockquote>
<div>ensure ordering maps correctly</div></blockquote>
</div></blockquote>
<p>Autofilled Columns:
id: primary key (unique)
structure_id (int): Foreign key from Nanoparticles to link GA result</p>
<blockquote>
<div>to a single NP</div></blockquote>
<p>Mapped Properties:
nanoparticle: (Nanoparticle Datatable entry) links to NP skeleton used</p>
<blockquote>
<div>in GA sim (size, and shape constraints)</div></blockquote>
<dl class="method">
<dt>
<code class="descname">build_atoms_obj: Returns atoms object of nanoparticle using ordering</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">build_chem_formula: Returns chemical formula of string e.g. 'Au23_Cu32'</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="descname">build_prdf: returns data of partial radial distribution function</code></dt>
<dd><dl class="docutils">
<dt>Args:</dt>
<dd>alpha (str): reference position metal
beta (str): metal to measure distance from reference metal
dr (float): shell size to quantify counts in PRDF</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">build_prdf_plot: creates 4 subplots containing</code></dt>
<dd><ul class="simple">
<li>metal1 : metal1 PRDF (blue)</li>
<li>metal2 : metal2 PRDF (red)</li>
<li>metal1 : metal2 PRDF (purple)</li>
<li>png image of NP</li>
</ul>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">save_np: saves atoms object of nanoparticle</code></dt>
<dd><dl class="docutils">
<dt>Args:</dt>
<dd><ul class="first last simple">
<li>path (str): path to save Atoms object (<a href="#id1"><span class="problematic" id="id2">*</span></a>.xyz, <a href="#id3"><span class="problematic" id="id4">*</span></a>.pdb, etc.)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.npdb.datatables.BimetallicResults.build_atoms_obj">
<code class="descname">build_atoms_obj</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicResults.build_atoms_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicResults.build_atoms_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns ase.Atoms object of stable NP found
- NP built with Nanoparticle.get_atoms_obj_skel</p>
<blockquote>
<div>and atom type added in using self.ordering</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">NP from entry</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(ase.Atoms)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.npdb.datatables.BimetallicResults.build_chem_formula">
<code class="descname">build_chem_formula</code><span class="sig-paren">(</span><em>latex=False</em>, <em>bold=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicResults.build_chem_formula"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicResults.build_chem_formula" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns chemical formula of bimetallic NP
in alphabetical order
- e.g. Ag6_Au7</p>
<p>KArgs:
latex (bool): if True, chemical formula is returned in Latex Math form</p>
<blockquote>
<div>(Default: False)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.npdb.datatables.BimetallicResults.build_prdf">
<code class="descname">build_prdf</code><span class="sig-paren">(</span><em>alpha=None</em>, <em>beta=None</em>, <em>dr=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicResults.build_prdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicResults.build_prdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates partial radial distribution functions
of metal &lt;alpha&gt; vs. metal &lt;beta&gt;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>alpha</strong> (<em>str</em>) – </li>
<li><strong>beta</strong> (<em>str</em>) – </li>
<li><strong>dr</strong> (<em>float</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Histogram data of each metal in the shells</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.npdb.datatables.BimetallicResults.build_prdf_plot">
<code class="descname">build_prdf_plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicResults.build_prdf_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicResults.build_prdf_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a plt.Figure with PRDF subplots:
M1 vs M1, M1 vs M2
M2 vs M1, M2 vs M2</p>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.npdb.datatables.BimetallicResults.save_np">
<code class="descname">save_np</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicResults.save_np"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicResults.save_np" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves stable NP to desired path
- uses ase to save
- supports all ase save types</p>
<blockquote>
<div>e.g. xyz, pdb, png, etc.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if saved successfully</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(bool)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.npdb.datatables.BimetallicResults.show">
<code class="descname">show</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#BimetallicResults.show"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.BimetallicResults.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows nanoparticle using ase.visualize.view</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ce_expansion.npdb.datatables.ModelCoefficients">
<em class="property">class </em><code class="descclassname">ce_expansion.npdb.datatables.</code><code class="descname">ModelCoefficients</code><span class="sig-paren">(</span><em>element1</em>, <em>element2</em>, <em>cn</em>, <em>bond_energy</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#ModelCoefficients"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.ModelCoefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Bond-Centric Model Coefficients (gamma) precalculated
based on atom types and coordination number</p>
</dd></dl>

<dl class="class">
<dt id="ce_expansion.npdb.datatables.Nanoparticles">
<em class="property">class </em><code class="descclassname">ce_expansion.npdb.datatables.</code><code class="descname">Nanoparticles</code><span class="sig-paren">(</span><em>shape</em>, <em>num_atoms</em>, <em>num_shells=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#Nanoparticles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.Nanoparticles" title="Permalink to this definition">¶</a></dt>
<dd><p>Nanoparticles (NP) Skeleton Datatable
- contains header info for NP skeletons used in GA sims</p>
<p>Columns:
shape (string): shape of NP
num_atoms (int): number of atoms in NP
num_shells (int): number of shells used to build NP</p>
<blockquote>
<div>from structure_gen module
- not required in initial entry</div></blockquote>
<p>Autofilled Columns:
id: primary key (unique)
bimetallic_results (one-to-many): links to entries in BimetallicResults</p>
<blockquote>
<div><p>that used this NP skeleton
- new BimetallicResults entries require</p>
<blockquote>
<div>a NP to be entered</div></blockquote>
<ul class="simple">
<li>one NP can have many BimetallicResults</li>
</ul>
</div></blockquote>
<p>Other Attributes:
bonds_list (np.array): used to carry bonds_list for GA sims
atoms_obj (ase.Atoms): stores an ase.Atoms skeleton after being built with</p>
<blockquote>
<div>get_atoms_obj_skel</div></blockquote>
<dl class="method">
<dt id="ce_expansion.npdb.datatables.Nanoparticles.get_atoms_obj_skel">
<code class="descname">get_atoms_obj_skel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#Nanoparticles.get_atoms_obj_skel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.Nanoparticles.get_atoms_obj_skel" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds NP in the form of a Cu NP ase.Atoms object
- stores under self.atoms_obj property
- returns atoms_obj</p>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.npdb.datatables.Nanoparticles.get_diameter">
<code class="descname">get_diameter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#Nanoparticles.get_diameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.Nanoparticles.get_diameter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ce_expansion.npdb.datatables.PartialRadialDists">
<em class="property">class </em><code class="descclassname">ce_expansion.npdb.datatables.</code><code class="descname">PartialRadialDists</code><span class="sig-paren">(</span><em>np_id</em>, <em>prdf_type</em>, <em>element_tracked</em>, <em>distance</em>, <em>frequency</em>, <em>element_center=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#PartialRadialDists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.PartialRadialDists" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds partial radial distribution functions.</p>
<dl class="docutils">
<dt>Columns:</dt>
<dd><dl class="first docutils">
<dt>prdf_type (str) <span class="classifier-delimiter">:</span> <span class="classifier">The type of PRDF being calculated here (atom or NP centered)</span></dt>
<dd><dl class="first docutils">
<dt>The type can be one of the two following values:</dt>
<dd>Atom_Centered
NP_Centered</dd>
</dl>
<p class="last">and will raise a ValueError if one of these two values is not used.</p>
</dd>
<dt>element_center (str[2]) <span class="classifier-delimiter">:</span> <span class="classifier">The element at the center of the distribution (if atomic prdf being used)</span></dt>
<dd>If this is supplied for an NP-centered PRDF, the program will raise a ValueError.</dd>
</dl>
<p class="last">element_tracked (str[2]) : The element whose radial distribution we are following
distance (float) : How far away from the center of the distribution we are
frequency (float) : Frequency of element_tracked found at that particular distance
np_id (int) : The NP this radial distribution function corresponds to</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="ce_expansion.npdb.datatables.PostProcessing">
<em class="property">class </em><code class="descclassname">ce_expansion.npdb.datatables.</code><code class="descname">PostProcessing</code><span class="sig-paren">(</span><em>chemical_ordering_parameter=None</em>, <em>atomic_prdf_pointer=None</em>, <em>np_prdf_pointer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/datatables.html#PostProcessing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.datatables.PostProcessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs post-processed data for a NP.</p>
<dl class="docutils">
<dt>Currently we have:</dt>
<dd><ul class="first last simple">
<li>Chemical Ordering Parameter</li>
<li>Partial Radial Distribution Function (atom-centric)</li>
<li>Partial Radial Distribution Function (NP-centric)</li>
</ul>
</dd>
</dl>
<p>Colunns:</p>
</dd></dl>

<span class="target" id="module-ce_expansion.npdb.db_inter"></span><dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_atoms_in_shell_dict">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_atoms_in_shell_dict</code><span class="sig-paren">(</span><em>shape</em>, <em>num_shells</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_atoms_in_shell_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_atoms_in_shell_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>creates dictionary of atom indices for each shell</p>
<p>MAPPING:
shell 0: core atom
shell 1: 12-atom layer
shell 2: 42-atom layer
etc.</p>
<p>Args:
shape (str): shape of the nanoparticle</p>
<p>num_shells (int): shells to create NP from DB</p>
<p>Returns:
(dict): {&lt;shell&gt;: atom indices that are in &lt;shell&gt;}</p>
<p>Raises:
- ValueError: num_shells must be &gt; 0
- ValueError: only certain shapes supported</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_coefficient_dict">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_coefficient_dict</code><span class="sig-paren">(</span><em>metals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_coefficient_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_coefficient_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates coefficient dictionary used to calc CE</p>
<p>Args:
- metals (string || iterable): string(s) containing two metal elements</p>
<p>Returns:
- (dict): coefficient dictionary for GA sim</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_df">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_df</code><span class="sig-paren">(</span><em>datatable</em>, <em>lim=None</em>, <em>custom_filter=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_df" title="Permalink to this definition">¶</a></dt>
<dd><p>GENERIC FUNCTION
Returns pandas dataframe of entries in &lt;datatable&gt;
that match criteria in &lt;<a href="#id5"><span class="problematic" id="id6">**</span></a>kwargs&gt;
- NOTE: changes ‘shape’ column name to ‘np_shape’!</p>
<p>Args:
- datatable (Datatable class): datatable to query</p>
<p>KArgs:
- lim (int): max number of entries returned</p>
<blockquote>
<div>(default: None = no limit)</div></blockquote>
<ul class="simple">
<li><a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs: arguments whose name(s) matches a column in the datatable</li>
</ul>
<p>Returns:
- (pd.DataFrame): df of results</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_metals_list">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_metals_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_metals_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_metals_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of possible metal combinations for GA sims</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_new_structs_plot">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_new_structs_plot</code><span class="sig-paren">(</span><em>metal_opts</em>, <em>shape_opts</em>, <em>pct=False</em>, <em>cutoff_date=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_new_structs_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_new_structs_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses BimetallicLog to create 2D line plot of
new structures found vs. datetime</p>
<p>Args:
- metal_opts (list): list of metal options
- shape_opts (list): list of shape options</p>
<p>Kargs:
- pct (bool): if True, y-axis = % new structures</p>
<blockquote>
<div>else, y-axis = number of new structures</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>cutoff_date (Datetime.Datetime): if given, will filter out runs</dt>
<dd>older than &lt;cutoff_date&gt;</dd>
</dl>
</li>
</ul>
<p>Returns:
- (plt.Figure): 2D line plot object</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_prdf_shapes_comparison">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_prdf_shapes_comparison</code><span class="sig-paren">(</span><em>metals</em>, <em>num_shells</em>, <em>x_dope</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_prdf_shapes_comparison"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_prdf_shapes_comparison" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Creates list of figures, each containing partial radial distribution</dt>
<dd>functions (PRDFs) of a given shape</dd>
</dl>
<p>Args:
- metals (str || iterable): two metal elements
- num_shells (int): number of shells (i.e. layers) of atoms used to make NP
- x_dope (float): percentage of metal2 in NPs</p>
<p>Returns:
- list of plt.Figure elements containing PRDFs and an image of the NPs</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_radial_distributions">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_radial_distributions</code><span class="sig-paren">(</span><em>metals=None</em>, <em>shape=None</em>, <em>num_atoms=None</em>, <em>n_metal1=None</em>, <em>lim=None</em>, <em>nbins='Auto'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_radial_distributions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_radial_distributions" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a query to get_bimetallic_results to construct a list of NPs,
then for each NP found, returns radial distribution functions for the
two elements.</p>
<p>Args:
metals (str || iterable): two metal elements
shape (str): shape of NP
num_atoms (int): number of atoms in NP
n_metal1 (int): number of metal1 atoms in NP
lim (int): max number of entries returned</p>
<blockquote>
<div>(default: None = no limit)</div></blockquote>
<dl class="docutils">
<dt>bins (int || str) <span class="classifier-delimiter">:</span> <span class="classifier">Number of bins to use for the radial distribution.</span></dt>
<dd>If set to “Auto”, uses num_atoms / 10, rounded up</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of N radial distribution functions as dicts. First element gives the
atom type. Second element gives the dimension. Third element is the value at
that dimension. For example, returned_value[“Cu”][“distance”][3] equaling 3.4
indicates that whatever returned_value[“Cu”][“density”][3] equals is at distance 3.4</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_shapes_list">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_shapes_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_shapes_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_shapes_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all shapes found in Nanoparticles Datatable as list of str</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_shell2num_dict">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_shell2num_dict</code><span class="sig-paren">(</span><em>shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_shell2num_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_shell2num_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a number of shells –&gt; number of atoms dict</p>
<p>Kargs:
- shape (str): shape of NP</p>
<p>Returns:
- dict: shell2num_dict[shape][num_shell] = num_atoms</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_shell_dist_fig">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_shell_dist_fig</code><span class="sig-paren">(</span><em>bimet</em>, <em>show=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_shell_dist_fig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_shell_dist_fig" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates shell distribution figure of
BimetallicResult</p>
<p>Args:</p>
<p>Returns:
(plt.Figure)</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.build_srf_plot">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">build_srf_plot</code><span class="sig-paren">(</span><em>metals</em>, <em>shape</em>, <em>T=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#build_srf_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.build_srf_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a 3D surface plot from NP SQL database
- plots Size vs. Shape vs. Excess Energy (EE)
- can also use configurational entropy of mixing</p>
<blockquote>
<div>to plot Size vs. Shape vs. delG = EE - T * delS(mix)</div></blockquote>
<p>Args:
- metals (string || iterable): string(s) containing two metal elements
- shape (string): shape of the NP</p>
<p>KArgs:
T (float): if temperature is given, plot delG(mix)</p>
<blockquote>
<div>(i.e. include configurational entropy)
(Default: None)</div></blockquote>
<p>Returns:
- (plt.figure): figure of 3D surface plot</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.gen_coeffs_dict_from_raw">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">gen_coeffs_dict_from_raw</code><span class="sig-paren">(</span><em>metal1</em>, <em>metal2</em>, <em>bulkce_m1</em>, <em>bulkce_m2</em>, <em>homo_bde_m1</em>, <em>homo_bde_m2</em>, <em>hetero_bde</em>, <em>cnmax=12</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#gen_coeffs_dict_from_raw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.gen_coeffs_dict_from_raw" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the Bond-Centric half bond energy terms for a bimetallic
pair AB. Coordination number 0 is given the value None. Dictionary is
used with AtomGraph to calculate total CE of bimetallic nanoparticles.
Relies on raw data arguments to create dictionary.</p>
<p>Args:
- metal1 (str): atomic symbol of metal 1
- metal2 (str): atomic symbol of metal 2
- bulkce_m1 (float): bulk cohesive energy (in eV / atom) of metal1
- bulkce_m2 (float): bulk cohesive energy (in eV / atom) of metal2
- homo_bde_m1 (float): m1-m1 (homoatomic) bond dissociation energy
- homo_bde_m2 (float): m2-m2 (homoatomic) bond dissociation energy
- hetero_bde (float): m1-m2 (heteroatomic) bond dissociation energy</p>
<p>KArgs:
- cnmax: maximum bulk coordination number (CN) of metals</p>
<blockquote>
<div>(Default: 12)</div></blockquote>
<p>Returns:
- (dict): form dict[m1][m2][CN] = half bond energy term</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.get_bimet_log">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">get_bimet_log</code><span class="sig-paren">(</span><em>metals=None</em>, <em>shape=None</em>, <em>date=None</em>, <em>lim=None</em>, <em>return_query=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#get_bimet_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.get_bimet_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BimetallicLog entry that matches criteria
- if no criteria given, all data (up to &lt;lim&gt; amount)</p>
<blockquote>
<div>returned</div></blockquote>
<p>Kargs:
- metals (str || iterable): two metal elements
- shape (str): shape of NP
- date (datetime.datetime): GA batch run completion time
- lim (int): max number of entries returned</p>
<blockquote>
<div>(default: None = no limit)</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>return_query (bool): if True, return query and</dt>
<dd>not results</dd>
</dl>
</li>
</ul>
<p>Returns:
- (BimetallicResults)(s) if match is found else (None)</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.get_bimet_result">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">get_bimet_result</code><span class="sig-paren">(</span><em>metals=None</em>, <em>shape=None</em>, <em>num_atoms=None</em>, <em>num_shells=None</em>, <em>n_metal1=None</em>, <em>only_bimet=False</em>, <em>lim=None</em>, <em>return_query=False</em>, <em>custom_filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#get_bimet_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.get_bimet_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns BimetallicResults entry that matches criteria
- if no criteria given, all data (up to &lt;lim&gt; amount)</p>
<blockquote>
<div>returned</div></blockquote>
<p>Kargs:
- metals (str || iterable): two metal elements
- shape (str): shape of NP
- num_atoms (int): number of atoms in NP
- n_metal1 (int): number of metal1 atoms in NP
- lim (int): max number of entries returned</p>
<blockquote>
<div>(default: None = no limit)</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>return_query (bool): if True, return query and</dt>
<dd>not results</dd>
</dl>
</li>
</ul>
<p>Returns:
- (BimetallicResults)(s) if match is found else (None)</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.get_entry">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">get_entry</code><span class="sig-paren">(</span><em>datatable</em>, <em>lim=None</em>, <em>custom_filter=None</em>, <em>return_query=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#get_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.get_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>GENERIC FUNCTION
Returns entry/entries from table if criteria is matched
- if no criteria given, all data (up to &lt;lim&gt; amount)</p>
<blockquote>
<div>returned</div></blockquote>
<p>Args:
- datatable (Datatable class): datatable to query</p>
<p>Kargs:
- lim (int): max number of entries returned</p>
<blockquote>
<div>(default: None = no limit)</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>custom_filter (sqlalchemy.sql.elements.BinaryExpression):</dt>
<dd>custom sqlalchemy filter that will be applied
(default: None = no added filter)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>return_query (bool): if True, return query and</dt>
<dd>not results</dd>
</dl>
</li>
<li><a href="#id9"><span class="problematic" id="id10">**</span></a>kwargs: arguments whose name(s) matches a column in the datatable</li>
</ul>
<p>Returns:
- (Datatable instance(s)) if match is found else (None)</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.get_model_coefficient">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">get_model_coefficient</code><span class="sig-paren">(</span><em>element1=None</em>, <em>element2=None</em>, <em>cn=None</em>, <em>lim=None</em>, <em>return_query=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#get_model_coefficient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.get_model_coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tbl.ModelCoefficients entries that match criteria
- if no criteria given, all data (up to &lt;lim&gt; amount)</p>
<blockquote>
<div>returned</div></blockquote>
<ul class="simple">
<li>query is always ordered by cn</li>
</ul>
<p>Kargs:
- element1 (str): first element
- element2 (str): second element
- cn (int): coordination number of element 1
- lim (int): max number of entries returned</p>
<blockquote>
<div>(default: None = no limit)</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>return_query (bool): if True, returns just the query</dt>
<dd>and not the results</dd>
</dl>
</li>
</ul>
<p>Returns:
- (tbl.ModelCoefficients)(s) if match else (None)</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.get_nanoparticle">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">get_nanoparticle</code><span class="sig-paren">(</span><em>shape=None</em>, <em>num_atoms=None</em>, <em>num_shells=None</em>, <em>lim=None</em>, <em>return_query=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#get_nanoparticle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.get_nanoparticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tbl.Nanoparticles entries that match criteria
- if no criteria given, all data (up to &lt;lim&gt; amount)</p>
<blockquote>
<div>returned</div></blockquote>
<p>Kargs:
- shape (str): shape of NP
- num_atoms (int): number of atoms in NP
- num_shells (int): number of shells used to build NP</p>
<blockquote>
<div>from structure_gen module</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>lim (int): max number of entries returned</dt>
<dd>(default: None = no limit)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>return_query (bool): if True, returns just the query</dt>
<dd>and not the results</dd>
</dl>
</li>
</ul>
<p>Returns:
- (tbl.Nanoparticles)(s) if match else (None)</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.get_shell2num">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">get_shell2num</code><span class="sig-paren">(</span><em>shape</em>, <em>num_shells</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#get_shell2num"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.get_shell2num" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of atoms of an NP
given shape and number of shells</p>
<p>Args:
- shape (str): shape of NP
- num_shells (int): number of shells used to build NP</p>
<blockquote>
<div>from structure_gen module</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.insert_bimetallic_log">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">insert_bimetallic_log</code><span class="sig-paren">(</span><em>start_time</em>, <em>metal1</em>, <em>metal2</em>, <em>shape</em>, <em>ga_generations</em>, <em>shell_range</em>, <em>new_min_structs</em>, <em>tot_structs</em>, <em>batch_run_num=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#insert_bimetallic_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.insert_bimetallic_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.insert_model_coefficients">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">insert_model_coefficients</code><span class="sig-paren">(</span><em>coeffs_dict=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#insert_model_coefficients"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.insert_model_coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts model coefficients into ModelCoefficients
- checks DB to ensure entry does not already exist</p>
<p>Kargs:
- coeffs_dict (dict): dictionary of coefficients</p>
<blockquote>
<div>if None, read in from data directory
(default: None)</div></blockquote>
<p>Returns:
- (bool): True if successful insertion else False</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.insert_nanoparticle">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">insert_nanoparticle</code><span class="sig-paren">(</span><em>atom</em>, <em>shape</em>, <em>num_shells=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#insert_nanoparticle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.insert_nanoparticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts NP and their appropriate atoms into DB</p>
<p>Args:
- atom (ase.Atoms): atoms object of NP skeleton
- shape (string): common name for shape of NP</p>
<blockquote>
<div><ul class="simple">
<li>e.g. icosahedron</li>
<li>always lower case</li>
</ul>
</div></blockquote>
<p>Kargs:
- num_shells (int): number of shells used to build NP</p>
<blockquote>
<div>from structure_gen module</div></blockquote>
<p>Returns:
- (Nanoparticle): tbl.Nanoparticles object</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.remove_entry">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">remove_entry</code><span class="sig-paren">(</span><em>entry_inst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#remove_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.remove_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>GENERIC FUNCTION
Deletes entry (and its children if applicable) from DB</p>
<p>Args:
- entry_inst (DataTable instance): datarow to be deleted</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.remove_nanoparticle">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">remove_nanoparticle</code><span class="sig-paren">(</span><em>shape=None</em>, <em>num_atoms=None</em>, <em>num_shells=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#remove_nanoparticle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.remove_nanoparticle" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a single NP and its corresponding atoms
- only commits if a single np is queried to be removed</p>
<p>Kargs:
- shape (str): shape of NP
- num_atoms (int): number of atoms in NP
- num_shells (int): number of shells used to build NP</p>
<blockquote>
<div>from structure_gen module</div></blockquote>
<p>Returns:
- True if successful</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.update_bimet_result">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">update_bimet_result</code><span class="sig-paren">(</span><em>metals</em>, <em>shape</em>, <em>num_atoms</em>, <em>diameter</em>, <em>n_metal1</em>, <em>CE</em>, <em>ordering</em>, <em>EE=None</em>, <em>nanop=None</em>, <em>allow_insert=True</em>, <em>ensure_ce_min=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#update_bimet_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.update_bimet_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes raw data and inserts the BimetallicResults datatable
- will update CE, EE, and ordering of an entry if necessary</p>
<p>Returns:
- BimetallicResults entry after successfully updating</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_inter.update_entry">
<code class="descclassname">ce_expansion.npdb.db_inter.</code><code class="descname">update_entry</code><span class="sig-paren">(</span><em>entry_inst</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_inter.html#update_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_inter.update_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>GENERIC METHOD
Updates datarow object</p>
<p>Args:
- entry_inst (DataTable): DataTable object where changes have been made</p>
<p>Returns:
- (bool): True if successful</p>
</dd></dl>

<span class="target" id="module-ce_expansion.npdb.db_utils"></span><dl class="exception">
<dt id="ce_expansion.npdb.db_utils.NPDatabaseError">
<em class="property">exception </em><code class="descclassname">ce_expansion.npdb.db_utils.</code><code class="descname">NPDatabaseError</code><a class="reference internal" href="_modules/ce_expansion/npdb/db_utils.html#NPDatabaseError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_utils.NPDatabaseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom exception for DB IO errors</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_utils.commit_changes">
<code class="descclassname">ce_expansion.npdb.db_utils.</code><code class="descname">commit_changes</code><span class="sig-paren">(</span><em>session</em>, <em>raise_exception=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_utils.html#commit_changes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_utils.commit_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to commit changes to DB
- if it fails, error is logged and DB is rolled back</p>
<p>Args:
session (sqlalchemy.Session): session connected to DB</p>
<p>Kargs:
raise_exception (bool): if False, returns False instead of</p>
<blockquote>
<div>raising exception
(default: False)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if successful commit else False</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(bool)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.npdb.db_utils.sort_metals">
<code class="descclassname">ce_expansion.npdb.db_utils.</code><code class="descname">sort_metals</code><span class="sig-paren">(</span><em>metals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/npdb/db_utils.html#sort_metals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.npdb.db_utils.sort_metals" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles iterable or string of metals and returns them
in alphabetical order</p>
<p>Args:
metals (str || iterable): two metal element names</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">element names in alphabetical order</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(tuple)</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-ce_expansion.ga.ga">
<span id="ce-expansion-ga"></span><h1>ce_expansion.ga<a class="headerlink" href="#module-ce_expansion.ga.ga" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="ce_expansion.ga.ga.benchmark_plot">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">benchmark_plot</code><span class="sig-paren">(</span><em>max_nochange=500</em>, <em>metals=('Ag'</em>, <em>'Cu')</em>, <em>shape='icosahedron'</em>, <em>num_shells=9</em>, <em>x_metal2=0.57</em>, <em>spike=False</em>, <em>max_gens=-1</em>, <em>min_gens=-1</em>, <em>path=''</em>, <em>save=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#benchmark_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.benchmark_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a plot comparing GA simulation vs. random search</p>
<p>KArgs:
- max_nochange (int): Convergence criteria for GA - GA stops when</p>
<blockquote>
<div>&lt;max_nochange&gt; generations pass with no difference
in minimum CE
(Default: 50)</div></blockquote>
<ul>
<li><dl class="first docutils">
<dt>metals (tuple): tuple of metal types in nanoparticle</dt>
<dd><p class="first last">(default: {(‘Ag’, ‘Cu’)})</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>shape (str): shape of nanoparticle</dt>
<dd><p class="first last">(Default: ‘icosahedron’)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>num_shells (int): number of shells that make up nanoparticle</dt>
<dd><p class="first last">(Default: 10 (2869-atom nanoparticle))</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>x_metal2 (float): concentration of metal2 in nanoparticle</dt>
<dd><p class="first last">(Default: 0.57)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>spike (bool): if True, following structures are added to generation 0</dt>
<dd><ul class="first simple">
<li>if same structure and composition found in DB,
it is added to population</li>
<li>minCN-filled or maxCN-filled nanoparticle
(depending on which is more fit) also added
to population - structure created using
fill_cn function</li>
</ul>
<p class="last">(Default: False)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>max_gens (int): if not -1, use specified value as max</dt>
<dd><p class="first last">generations for each GA sim
(Default: -1)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>min_gens (int): if not -1, use specified value as min</dt>
<dd><p class="first last">generations that run before max_nochange
criteria is applied
(Default: -1)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a href="#id11"><span class="problematic" id="id12">**</span></a>kwargs (type): additional kwargs get passed in to Pop class</dt>
<dd><ul class="first last simple">
<li>examples: popsize, mute_pct, n_mute_atomswaps</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>Returns:
- plt.Figure, plt.axis: figure and axis object of plot</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.build_pop_obj">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">build_pop_obj</code><span class="sig-paren">(</span><em>metals</em>, <em>shape</em>, <em>num_shells</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#build_pop_obj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.build_pop_obj" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an initialized Pop for the specified shape,
metals, and number of shells
- e.g. 55-atom (3 shell) AgCu Icosahedron Pop
- <a href="#id13"><span class="problematic" id="id14">**</span></a>kwargs gets passed directly into Pop.__init__</p>
<p>Args:
- metals (str | iterator): list of two metals used in the bimetallic NP
- shape (str): shape of NP</p>
<blockquote>
<div>NOTE: currently supported methods (found in NPBuilder)
- cuboctahedron
- elongated-trigonal-pyramid
- fcc-cube
- icosahedron</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>num_shells (int): number of shells used to generate atom size</dt>
<dd>e.g. icosahedron with 3 shells makes a 55-atom object
(1 in core (shell_0) + 12 in shell_1 + 42 in shell_2)</dd>
</dl>
</li>
</ul>
<p><a href="#id15"><span class="problematic" id="id16">**</span></a>Kwargs:
- valid arguments to initialize Pop object</p>
<blockquote>
<div><ul class="simple">
<li>e.g. popsize=50, x_metal2=0.5</li>
</ul>
</div></blockquote>
<p>Returns:
- (Pop): Pop instance</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.check_db_values">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">check_db_values</code><span class="sig-paren">(</span><em>update_db=False</em>, <em>metal_opts=None</em>, <em>shape_opts=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#check_db_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.check_db_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks CE values in database to ensure CE and EE match their ordering</p>
<p>KArgs:
- update_db (bool): if True and mismatch is found, the database will be</p>
<blockquote>
<div>updated to the correct CE and EE
(Default: False)</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>metal_opts (list): can pass in list of metal combination options to check</dt>
<dd>(Default: [(‘Ag’, ‘Au’), (‘Ag’, ‘Cu’), (‘Au’, ‘Cu’)])</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>shape_opts (list): can pass in list of nanoparticle shapes to check</dt>
<dd><dl class="first last docutils">
<dt>(Default: [‘icosahedron’, ‘cuboctahedron’, ‘fcc-cube’,</dt>
<dd>‘elongated-pentagonal-bipyramid’])</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>Returns:
- (np.ndarray): CE’s and EE’s of mismatches found</p>
<blockquote>
<div><ul class="simple">
<li>each row contains: [CE-db, CE-actual, EE-db, EE-actual]</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.fill_cn">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">fill_cn</code><span class="sig-paren">(</span><em>atomg</em>, <em>n_metal2</em>, <em>max_search=50</em>, <em>low_first=True</em>, <em>return_n=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#fill_cn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.fill_cn" title="Permalink to this definition">¶</a></dt>
<dd><p>Algorithm to fill the lowest (or highest) coordination sites with ‘metal2’</p>
<p>Args:
- atomg (atomgraph.AtomGraph): AtomGraph object
- n_metal2 (int): number of dopants</p>
<p>Kargs:
- max_search (int): if there are a number of possible structures with</p>
<blockquote>
<div>partially-filled sites, the function will search
max_search options and return lowest CE structure
(Default: 50)</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>low_first (bool): if True, fills low CNs, else fills high CNs</dt>
<dd>(Default: True)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>return_n (bool): if &gt; 0, function will return a list of possible</dt>
<dd>structures
(Default: None)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>verbose (bool): if True, function will print info to console</dt>
<dd>(Default: False)</dd>
</dl>
</li>
</ul>
<p>Returns:
if return_n &gt; 0:
- (list): list of chemical ordering np.ndarrays
else:
- (np.ndarray), (float): chemical ordering np.ndarray with its</p>
<blockquote>
<div>calculated CE</div></blockquote>
<p>Raises:
- ValueError: not enough options to produce &lt;return_n&gt; sample size</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.gen_random">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">gen_random</code><span class="sig-paren">(</span><em>atomg</em>, <em>n_metal2</em>, <em>n=500</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#gen_random"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.gen_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates random structures (constrained by size, shape, and concentration)
and returns minimum structure and stats on CEs</p>
<p>Args:
- atomg (atomgraph.AtomGraph): AtomGraph object
- n_metal2 (int): number of metal2 in nanoparticle
- n (int): sample size</p>
<p>Returns:
- (Chrom), (np.ndarray): Chrom object of minimum structure found</p>
<blockquote>
<div>1D array of all CEs calculated in sample</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.load_pop">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">load_pop</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#load_pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.load_pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a pickled Pop object</p>
<p>Args:
path (str): path to Pop object (<a href="#id17"><span class="problematic" id="id18">*</span></a>.pickle file)</p>
<p>Returns:
(Pop): pop object</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.make_file">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">make_file</code><span class="sig-paren">(</span><em>atom</em>, <em>chrom</em>, <em>path</em>, <em>verbose=False</em>, <em>filetype='xyz'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#make_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.make_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an XYZ file given Atoms obj skeleton and
GA Chrom obj for metals and ordering</p>
<p>Args:
- atom (ase.Atoms): Atoms obj skeleton
- chrom (Chrom): Chrom obj from GA containing ordering and metals
- path (str): path to save file
- filetype (str): Type of file to save. Default XYZ</p>
<p>Kargs:
- verbose (bool): if True, print save path on success</p>
<p>Returns: None</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.ncr">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">ncr</code><span class="sig-paren">(</span><em>n</em>, <em>r</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#ncr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.ncr" title="Permalink to this definition">¶</a></dt>
<dd><p>N choose r function (combinatorics)</p>
<p>Args:
- n (int): from ‘n’ choices
- r (int): choose r without replacement</p>
<p>Returns:
- (int): total combinations</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.run_ga">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">run_ga</code><span class="sig-paren">(</span><em>metals</em>, <em>shape</em>, <em>save_data=True</em>, <em>batch_runinfo=None</em>, <em>shells=None</em>, <em>max_generations=5000</em>, <em>min_generations=-1</em>, <em>max_nochange=2000</em>, <em>add_coreshell=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#run_ga"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.run_ga" title="Permalink to this definition">¶</a></dt>
<dd><p>Submission function to run GAs of a given metal combination and
shape, sweeping over different sizes (measured in number of shells)
- capable of saving minimum structures as XYZs, logging GA stats, saving</p>
<blockquote>
<div>all run info as excel, and creating a 3D surface plot of results</div></blockquote>
<p>Args:
- metals (iterator): list of two metals used in the bimetallic NP
- shape (str): shape of NP that is being studied</p>
<blockquote>
<div><dl class="docutils">
<dt>NOTE: currently supports</dt>
<dd><ul class="first last simple">
<li>icosahedron</li>
<li>cuboctahedron</li>
<li>fcc-cube</li>
<li>elongated-trigonal-pyramic</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>Kargs:
- plotit (bool): if true, a 3D surface plot is made of GA sims</p>
<blockquote>
<div>dope concentration vs. size vs. excess energy
(Default: False)</div></blockquote>
<ul>
<li><dl class="first docutils">
<dt>save_data (bool): - if true, GA sim data is saved to BimetallicResults</dt>
<dd><blockquote class="first">
<div><p>table in database</p>
</div></blockquote>
<p class="last">(Default: True)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>batch_runinfo (str): if str, add to BimetallicLog entry</dt>
<dd><p class="first last">(Default: None)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>shells (int || list): if int, only that shell size is simulated</dt>
<dd><p class="first last">elif list of ints, nshell_range = shells
(Default: None)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>max_generations (int): if not -1, use specified value as max</dt>
<dd><p class="first last">generations for each GA sim
(Default: 5000)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>min_generations (int): if not -1, use specified value as min</dt>
<dd><p class="first last">generations that run before max_nochange
criteria is applied
(Default: -1)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>max_nochange (int): maximum generations GA will go without a change in</dt>
<dd><p class="first last">minimum CE
(Default: 2000)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>add_coreshell (bool): if True, core shell structures will be included in</dt>
<dd><p class="first last">GA simulations
(Default: True)</p>
</dd>
</dl>
</li>
</ul>
<p>Returns: None</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.scaling_plot">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">scaling_plot</code><span class="sig-paren">(</span><em>metals=('Ag'</em>, <em>'Cu')</em>, <em>shape='icosahedron'</em>, <em>num_shells_range=range(2</em>, <em>11)</em>, <em>x_metal2=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#scaling_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.scaling_plot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Creates a scaling plot to test GA</dt>
<dd><ul class="first simple">
<li>number of atoms vs. runtime for 500 generations (in seconds)</li>
</ul>
<p class="last">Reveals that GA simulations scale by O(n) where n = num_atoms</p>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><ul class="first last simple">
<li><strong>metals</strong> (<em>tuple</em>) – metal types in nanoparticle
(Default: (‘Ag’, ‘Cu’))</li>
<li><strong>shape</strong> (<em>str</em>) – shape of nanoparticle
(Default: ‘icosahedron’)</li>
<li><strong>num_shells_range</strong> (<em>list</em>) – range of num_shells (nanoparticle sizes)
to test
(Default: (range(2, 11))</li>
<li><strong>x_metal2</strong> (<em>float</em>) – concentration of metal2 in nanoparticle
(Default: 0.57)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns:
- plt.Figure, plt.axis: figure and axis object of plot</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.test_FePt_nanop">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">test_FePt_nanop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#test_FePt_nanop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.test_FePt_nanop" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes FePt structure from Nano Lett. paper
- NOTE: not complemented</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.vis_FePt_results">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">vis_FePt_results</code><span class="sig-paren">(</span><em>pcty=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#vis_FePt_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.vis_FePt_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Load in exp. FePt and GA opt FePt NPs
- same as cn_dist_plot, but customized for FePt comparison</p>
<p>KArgs:
- pcty (bool): if True, y-axis is normalized to show percentage</p>
<blockquote>
<div>of CN filled by each metal type
(Default: False)</div></blockquote>
<p>Returns:
- (plt.Figure), (plt.gca()): figure and axis object of plot</p>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.ga.xyz_to_chrom">
<code class="descclassname">ce_expansion.ga.ga.</code><code class="descname">xyz_to_chrom</code><span class="sig-paren">(</span><em>atomg</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/ga.html#xyz_to_chrom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.ga.xyz_to_chrom" title="Permalink to this definition">¶</a></dt>
<dd><p>Method used to create Chromo of <a href="#id19"><span class="problematic" id="id20">*</span></a>.xyz
using AtomGraph and <a href="#id21"><span class="problematic" id="id22">*</span></a>.xyz path</p>
<p>Args:
- atomg (atomgraph.AtomGraph): AtomGraph obj
- path (str): path to <a href="#id23"><span class="problematic" id="id24">*</span></a>.xyz file</p>
<p>Returns:
- (Chromo): Chromo representing <a href="#id25"><span class="problematic" id="id26">*</span></a>.xyz structure
- (None): if path is not a file</p>
</dd></dl>

<span class="target" id="module-ce_expansion.ga.structure_gen"></span><dl class="class">
<dt id="ce_expansion.ga.structure_gen.NPBuilder">
<em class="property">class </em><code class="descclassname">ce_expansion.ga.structure_gen.</code><code class="descname">NPBuilder</code><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#NPBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.NPBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Static class that contains methods to build NPs of various shapes</p>
<p>Args:
num_shells (int): Number of shells in NP</p>
<p>KArgs:
kind (str): What element will be used for the monometallic NPs</p>
<blockquote>
<div>(DEFAULT: Cu)</div></blockquote>
<p>Returns:
(ase.Atoms): the NP skeleton</p>
<dl class="method">
<dt id="ce_expansion.ga.structure_gen.NPBuilder.cuboctahedron">
<code class="descname">cuboctahedron</code><span class="sig-paren">(</span><em>kind='Cu'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#NPBuilder.cuboctahedron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.NPBuilder.cuboctahedron" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a cuboctahedral NP.</p>
<p>Args:
num_shells (int): Number of shells in NP</p>
<p>KArgs:
kind (str): What element will be used for the monometallic NPs</p>
<blockquote>
<div>(DEFAULT: Cu)</div></blockquote>
<p>Returns:
(ase.Atoms): the NP skeleton</p>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.ga.structure_gen.NPBuilder.elongated_pentagonal_bipyramid">
<code class="descname">elongated_pentagonal_bipyramid</code><span class="sig-paren">(</span><em>kind='Cu'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#NPBuilder.elongated_pentagonal_bipyramid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.NPBuilder.elongated_pentagonal_bipyramid" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an elongated-pentagonal-bipyramidal NP.</p>
<p>Args:
num_shells (int): Number of shells in NP</p>
<p>KArgs:
kind (str): What element will be used for the monometallic NPs</p>
<blockquote>
<div>(DEFAULT: Cu)</div></blockquote>
<p>Returns:
(ase.Atoms): the NP skeleton</p>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.ga.structure_gen.NPBuilder.fcc_cube">
<code class="descname">fcc_cube</code><span class="sig-paren">(</span><em>kind='Cu'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#NPBuilder.fcc_cube"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.NPBuilder.fcc_cube" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an FCC-cube with faces on the {100} family of planes.</p>
<p>Args:
num_units (int): Number of primitive FCC units across each side of NP</p>
<blockquote>
<div><ul class="simple">
<li>NOTE: units share a face</li>
</ul>
</div></blockquote>
<p>KArgs:
kind (str): What element will be used for the monometallic NPs</p>
<blockquote>
<div>(DEFAULT: Cu)</div></blockquote>
<p>Returns:
(ase.Atoms): the NP skeleton</p>
</dd></dl>

<dl class="method">
<dt id="ce_expansion.ga.structure_gen.NPBuilder.icosahedron">
<code class="descname">icosahedron</code><span class="sig-paren">(</span><em>kind='Cu'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#NPBuilder.icosahedron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.NPBuilder.icosahedron" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an icosahedral NP.</p>
<p>Args:
num_shells (int): Number of shells in NP</p>
<p>KArgs:
kind (str): What element will be used for the monometallic NPs</p>
<blockquote>
<div>(DEFAULT: Cu)</div></blockquote>
<p>Returns:
(ase.Atoms): the NP skeleton</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.structure_gen.build_structure">
<code class="descclassname">ce_expansion.ga.structure_gen.</code><code class="descname">build_structure</code><span class="sig-paren">(</span><em>shape</em>, <em>num_shells</em>, <em>return_bonds_list=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#build_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.build_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates NP of specified shape and size (based on num_shells)</p>
<p>Args:
shape (str): shape of NP</p>
<blockquote>
<div>NOTE: currently supported methods (found in NPBuilder)
- cuboctahedron
- elongated-trigonal-pyramid
- fcc-cube
- icosahedron</div></blockquote>
<dl class="docutils">
<dt>num_shells (int): Number of shells in NP</dt>
<dd>e.g. icosahedron with 2 shells makes a 55-atom object
( 1 in core (shell_0) + 12 in shell_1 + 42 in shell_2)</dd>
</dl>
<p>Kargs:
return_bonds_list (bool): if True, also returns bond_list of Atoms obj</p>
<blockquote>
<div>(default: True)</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">(ase.Atoms), (list): atom obj and bond_list
else:<blockquote>
<div>(ase.Atoms): atom obj of structure</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">if return_bond_list</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code> – given shape has not been implemented</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.structure_gen.build_structure_sql">
<code class="descclassname">ce_expansion.ga.structure_gen.</code><code class="descname">build_structure_sql</code><span class="sig-paren">(</span><em>shape</em>, <em>num_shells</em>, <em>build_bonds_list=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#build_structure_sql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.build_structure_sql" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates NP of specified shape and size (based on num_shells)</p>
<p>Args:
shape (str): shape of NP</p>
<blockquote>
<div>NOTE: currently supported methods (found in NPBuilder)
- cuboctahedron
- elongated-trigonal-pyramid
- fcc-cube
- icosahedron</div></blockquote>
<dl class="docutils">
<dt>num_shells (int): Number of shells in NP</dt>
<dd>e.g. icosahedron with 2 shells makes a 55-atom object
( 1 in core (shell_0) + 12 in shell_1 + 42 in shell_2)</dd>
</dl>
<p>Kargs:
build_bonds_list (bool): if True, builds bonds list attribute</p>
<blockquote>
<div>(default: True)</div></blockquote>
<p>Returns:
(npdb.datatables.Nanoparticle)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError</span></code> – given shape has not been implemented</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.ga.structure_gen.sphere">
<code class="descclassname">ce_expansion.ga.structure_gen.</code><code class="descname">sphere</code><span class="sig-paren">(</span><em>num_layers</em>, <em>kind='Cu'</em>, <em>unit_cell_length=3.61</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/ga/structure_gen.html#sphere"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.ga.structure_gen.sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Inscribes a sphere inside a cube and makes it a nanoparticle.
NOTE: Perfect symmetry not guaranteed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_layers</strong> (<em>int</em>) – The size of the lattice containing the inscribed sphere.</li>
<li><strong>kind</strong> (<em>str</em>) – The element making up the skeleton. Defaults to “Cu”</li>
<li><strong>unit_cell_length</strong> (<em>float</em>) – The edge-length of the unit cell.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An ASE atoms object containing the sphere skeleton.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-ce_expansion.ga.batch_ga_run"></span></div>
<div class="section" id="module-ce_expansion.plots.plot_defaults">
<span id="ce-expansion-plots"></span><h1>ce_expansion.plots<a class="headerlink" href="#module-ce_expansion.plots.plot_defaults" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-ce_expansion.plots.plots"></span><dl class="function">
<dt id="ce_expansion.plots.plots.plot_bond_types_2D">
<code class="descclassname">ce_expansion.plots.plots.</code><code class="descname">plot_bond_types_2D</code><span class="sig-paren">(</span><em>bondcounts, labels, colors, markers, marker_sizes, projection=[None, None], verbose=False, scale=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/plots/plots.html#plot_bond_types_2D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.plots.plots.plot_bond_types_2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the bond types in 2D.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bondcounts</strong> (<em>list</em>) – List of bondcounts. Each row is of the form [AA-bonds, BB-bonds, AB-bonds]</li>
<li><strong>labels</strong> (<em>list</em>) – List of labels. What shows up on the legend. Identical labels are plot in the same series.
Recommended: SystemForm_Morphology (e.g. AgAu_Ico, CuAg_Cuboct, CuAu_EPB, etc.)</li>
<li><strong>colors</strong> (<em>list</em>) – List of colors. Any matplotlib color spec works here.</li>
<li><strong>markers</strong> (<em>list</em>) – List of markers. Matplotlib marker specs only.</li>
<li><strong>marker_sizes</strong> (<em>list</em>) – List of marker sizes, in “points” per matplotlib spec.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ce_expansion.plots.plots.plot_bond_types_3D">
<code class="descclassname">ce_expansion.plots.plots.</code><code class="descname">plot_bond_types_3D</code><span class="sig-paren">(</span><em>systems</em>, <em>system_colors</em>, <em>morphologies</em>, <em>morphology_markers</em>, <em>sizes</em>, <em>point_sizes</em>, <em>scale=False</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/plots/plots.html#plot_bond_types_3D"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.plots.plots.plot_bond_types_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the bond types in 3D. A-B versus A-A versus B-B</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>systems</strong> – Systems to be investigated</li>
<li><strong>system_colors</strong> – Corresponding list of colors for those systems</li>
<li><strong>morphologies</strong> – Morphologies to be investigated</li>
<li><strong>morphology_markers</strong> – Corresponding list of markers for those morphologies</li>
<li><strong>sizes</strong> – Sizes to be investigated</li>
<li><strong>point_sizes</strong> – Corresponding list of point sizes</li>
<li><strong>scale</strong> – Whether to scale the 3D axes to range from 0 to 1</li>
<li><strong>verbose</strong> – Whether to verbosely print what the system is doing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-ce_expansion.plots.triplot"></span><span class="target" id="module-ce_expansion.plots.shell_vs_tot"></span><dl class="function">
<dt id="ce_expansion.plots.shell_vs_tot.build_nmet2_nmet2shell_plot">
<code class="descclassname">ce_expansion.plots.shell_vs_tot.</code><code class="descname">build_nmet2_nmet2shell_plot</code><span class="sig-paren">(</span><em>metals</em>, <em>shape</em>, <em>num_shells</em>, <em>show_ee=True</em>, <em>show=True</em>, <em>save=False</em>, <em>pctx=False</em>, <em>pcty=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/plots/shell_vs_tot.html#build_nmet2_nmet2shell_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.plots.shell_vs_tot.build_nmet2_nmet2shell_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots number of metal2 in shell_i vs number of metal2 in NP</p>
<p>Args:
- metals (str): two metals (element names) in NP
- shape (str): shape of NP</p>
<blockquote>
<div>CURRENTLY SUPPORTS:
- cuboctahedron
- elongated-pentagonal-bipyramid
- icosahedron</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>num_shells (int): number of shells the NP is made of</dt>
<dd>(excluding core atom)</dd>
</dl>
</li>
</ul>
<p>KArgs:
show_ee (bool): plots excess energy (EE) on same plot with secondary axis</p>
<blockquote>
<div>(default: {True})</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>show (bool): shows figure is True</dt>
<dd>(default: True)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>save (bool): saves figure is True</dt>
<dd>(default: False)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>pctx (bool): x-axis plotted as concentration of metal2 if True</dt>
<dd>(default: {False})</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>pcty (bool): y-axis plotted as percentage of shell_i that is metal2</dt>
<dd>(default: {False})</dd>
</dl>
</li>
</ul>
<p>Returns:
- (plt.Figure): matplotlib plot of results
- (np.ndarray): matrix of results: [n_metal2, (n|x)metal2-shell_i, …, EE]
- (dict): minimum CE and minimum EE NP as datatable.BimetallicResults objs</p>
<p>Raises:
ValueError: num_shells must be greater than 0</p>
</dd></dl>

<span class="target" id="module-ce_expansion.plots.cn_dist_plot"></span><dl class="function">
<dt id="ce_expansion.plots.cn_dist_plot.cn_dist_plot">
<code class="descclassname">ce_expansion.plots.cn_dist_plot.</code><code class="descname">cn_dist_plot</code><span class="sig-paren">(</span><em>bimet_res: ce_expansion.npdb.datatables.BimetallicResults</em>, <em>pcty=False</em>, <em>show=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ce_expansion/plots/cn_dist_plot.html#cn_dist_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ce_expansion.plots.cn_dist_plot.cn_dist_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates CN distribution plot of bimetallic NP</p>
<p>Args:
- bimet_res (npdb.datatables.BimetallicResults): bimetallic result from</p>
<blockquote>
<div>sql database</div></blockquote>
<p>KArgs:
- pcty (bool): if True, y-axis is normalized to show percentage</p>
<blockquote>
<div>of CN filled by each metal type
(Default: False)</div></blockquote>
<ul class="simple">
<li><dl class="first docutils">
<dt>show (bool): if True, plt.show() is called to show plot</dt>
<dd>(Default: False)</dd>
</dl>
</li>
</ul>
<p>Returns:
- (plt.Figure), (plt.gca()): figure and axis object of plot</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">ce_expansion</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, CANELa.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>